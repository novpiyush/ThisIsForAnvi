<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Memory Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{
  background:#0d0d0d;
  color:#fff;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.container{
  width:90%;
  max-width:420px;
  background:#141414;
  border-radius:16px;
  padding:25px;
  box-shadow:0 0 40px rgba(255,255,255,0.05);
  position:relative;
}
h1{text-align:center;letter-spacing:1.5px;margin-bottom:15px}
p{text-align:center;color:#b5b5b5;margin-bottom:20px;font-size:14px}
button{
  padding:12px;
  background:#fff;
  color:#000;
  border:none;
  border-radius:30px;
  font-weight:600;
  cursor:pointer;
}
#yesBtn{width:100%}
#noBtn{
  position:absolute;
  top:72%;
  left:50%;
  transform:translateX(-50%);
  background:#1f1f1f;
  color:#fff;
  border:1px solid #2a2a2a;
}
.option{
  width:100%;
  margin-top:10px;
  background:#1f1f1f;
  border:1px solid #2a2a2a;
  color:#fff;
}
.option:hover{background:#fff;color:#000}
.hidden{display:none}

/* sparkles */
.sparkle{
  position:fixed;
  width:4px;
  height:4px;
  background:white;
  opacity:0;
  animation:spark 5s linear forwards;
}
@keyframes spark{
  0%{transform:translateY(0) scale(1);opacity:1}
  100%{transform:translateY(-380px) scale(0);opacity:0}
}
</style>
</head>

<body>
<div class="container">

<!-- START -->
<div id="start">
  <h1>HEY PALAK</h1>
  <p>
    I made a small game.<br>
    If you want to play,<br>
    will you play it?
  </p>
  <p id="hint" style="font-size:12px;color:#888"></p>
  <button id="yesBtn" onclick="goIntro()">YES</button>
  <button id="noBtn" onclick="moveNo()">NO</button>
</div>

<!-- INTRO -->
<div id="intro" class="hidden">
  <p>If you win the game,<br>you can give me any dare.</p>
  <button onclick="rules()">OK</button>
</div>

<!-- RULES -->
<div id="rules" class="hidden">
  <p>You need to win at least<br><b>7 points</b> to win the game.<br>So play carefully.</p>
  <button onclick="startGame()">NOW START THE GAME</button>
</div>

<!-- GAME -->
<div id="game" class="hidden">
  <h1 id="q"></h1>
  <div id="opts"></div>
</div>

<!-- RESULT -->
<div id="result" class="hidden"></div>

</div>

<script>
let noClicks=0;

const sweetMessages=[
  "Think once more.",
  "Are you sure?",
  "Give it a chance.",
  "Just one tap away."
];

function moveNo(){
  noClicks++;

  const no=document.getElementById("noBtn");
  const hint=document.getElementById("hint");

  const top = Math.random()*30 + 45;   // 45% - 75%
  const left = Math.random()*50 + 15;  // 15% - 65%

  no.style.top = top + "%";
  no.style.left = left + "%";
  no.style.transform = "none";

  if(noClicks <= sweetMessages.length){
    hint.innerText = sweetMessages[noClicks-1];
  }else{
    hint.innerText = "There is only one right answer here.";
  }
}

function goIntro(){
  start.classList.add("hidden");
  intro.classList.remove("hidden");
}

function rules(){
  intro.classList.add("hidden");
  rulesDiv.classList.remove("hidden");
}

function startGame(){
  rulesDiv.classList.add("hidden");
  game.classList.remove("hidden");
  loadQ();
}

let score=0,index=0;

const questions=[
{q:"How did we meet for the first time?",
o:["You shared a post on Instagram","Through a friend","Random chat","Comment section"],
a:"You shared a post on Instagram"},

{q:"What nickname did I give you?",
o:["Palku","Priya","Pihu","Pratibha"],a:"Palku"},

{q:"When is my birthday?",
o:["15 Nov","16 Nov","17 Nov","18 Nov"],a:"17 Nov"},

{q:"My favourite colour is?",
o:["Black and White","Blue","Red","Grey"],a:"Black and White"},

{q:"Favourite flower?",
o:["Rose and Lotus","Rose","Lily","Sunflower"],a:"Rose and Lotus"},

{q:"What nickname did you give me?",
o:["Piku","Prince","Piyu","Prem"],a:"Piku"},

{q:"Did I ever wish bad for you?",
o:["No","Yes","Maybe","Sometimes"],a:"No"},

{q:"When we met, how old were you?",
o:["15","16","17","18"],a:"17"},

{q:"Did I ever use Snapchat for you?",
o:["Yes","No","Sometimes","Never"],a:"Yes"},

{q:"What is my dream?",
o:["Cinematographer","Photographer","Editor","All of these"],a:"All of these"},

{q:"After you left, did I miss you?",
o:["Yes","No","Maybe","Not sure"],a:"Yes"}
];

const start=document.getElementById("start");
const intro=document.getElementById("intro");
const rulesDiv=document.getElementById("rules");
const game=document.getElementById("game");
const q=document.getElementById("q");
const opts=document.getElementById("opts");
const result=document.getElementById("result");

function loadQ(){
  if(index>=questions.length){end();return;}
  q.innerText=questions[index].q;
  opts.innerHTML="";
  questions[index].o.sort(()=>Math.random()-.5).forEach(op=>{
    let b=document.createElement("button");
    b.className="option";
    b.innerText=op;
    b.onclick=()=>check(op);
    opts.appendChild(b);
  });
}

function check(ans){
  if(ans===questions[index].a)score++;
  index++;
  loadQ();
}

function end(){
  game.classList.add("hidden");
  result.classList.remove("hidden");
  if(score>=7){
    result.innerHTML=`
      <h1>YOU WON THE GAME</h1>
      <p>You won the game.<br>Now you can give me any dare and I will complete it.</p>
      <p style="font-size:12px;color:#9a9a9a">
        You won by scoring ${score} out of ${questions.length}
      </p>
      <button onclick="location.reload()">Restart Game</button>`;
    sparkles();
  }else{
    result.innerHTML=`
      <h1>GAME OVER</h1>
      <p>You scored ${score} out of ${questions.length}</p>
      <button onclick="location.reload()">Restart Game</button>`;
  }
}

function sparkles(){
  let c=0;
  let i=setInterval(()=>{
    let s=document.createElement("div");
    s.className="sparkle";
    s.style.left=Math.random()*100+"vw";
    s.style.bottom="0px";
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),5000);
    if(++c>180)clearInterval(i);
  },60);
}
</script>
</body>
</html>
