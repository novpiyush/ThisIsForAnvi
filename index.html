<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Memory Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif;-webkit-tap-highlight-color:transparent}
html,body{width:100%;height:100%;overflow:hidden}

body{
display:flex;justify-content:center;align-items:center;
background:linear-gradient(rgba(0,0,0,.45),rgba(0,0,0,.45)),url("bg.png") center/cover no-repeat;
color:#fff;
}

.container{
width:90%;max-width:420px;padding:26px;border-radius:22px;
background:rgba(255,182,193,.18);backdrop-filter:blur(14px);
border:1px solid rgba(255,255,255,.25);
box-shadow:0 20px 40px rgba(0,0,0,.35);
text-align:center;position:relative;z-index:2;
overflow:hidden;
}

.hidden{display:none}
p{font-size:14px;line-height:1.5;margin-bottom:18px}

.option,.navBtn{
width:100%;padding:13px;margin-top:10px;border-radius:30px;
border:1px solid rgba(255,255,255,.35);
background:rgba(255,255,255,.15);
color:#fff;font-weight:600;cursor:pointer
}
.option.active,.navBtn:active{background:#fff;color:#000}

#yesBtn,#noBtn{
padding:16px 40px;border-radius:40px;font-weight:700;min-width:140px
}
#yesBtn{background:#fff;color:#000;border:none}

#noBtn{
background:rgba(255,255,255,.15);
border:1px solid rgba(255,255,255,.35);
color:#fff;position:absolute;bottom:15px;left:50%;
transform:translateX(-50%);
transition:all .25s ease;
}

.button-zone{position:relative;height:260px}

.nav{display:flex;gap:12px}
.navBtn{width:48%}

/* particles */
#particles{position:fixed;inset:0;pointer-events:none;z-index:0}
.particle{
position:absolute;bottom:-40px;width:18px;height:18px;
background:linear-gradient(145deg,#ff5f9e,#ff99c8);
transform:rotate(45deg);animation:floatUp linear forwards;
}
.particle::before,.particle::after{
content:"";position:absolute;width:18px;height:18px;
background:inherit;border-radius:50%;
}
.particle::before{top:-9px}
.particle::after{left:-9px}
@keyframes floatUp{to{transform:translateY(-110vh) rotate(45deg);opacity:0}}

.spark{position:absolute;width:4px;height:4px;background:#fff;border-radius:50%;animation:spark 1s ease-out forwards}
@keyframes spark{to{transform:translate(var(--x),var(--y));opacity:0}}

.shake{animation:shake .5s ease}
@keyframes shake{
0%{transform:translateX(0)}
25%{transform:translateX(-8px)}
50%{transform:translateX(8px)}
75%{transform:translateX(-6px)}
100%{transform:translateX(0)}
}
</style>
</head>
<body>

<audio id="clickSound" src="click.mp3"></audio>
<audio id="bgm" src="pretty_bgm.mp3" loop></audio>

<div id="particles"></div>

<!-- START -->
<div class="container" id="start">
<h1>HEY PALAK</h1>
<p>I made a small game.<br>If you want to play, will you play it?</p>
<p id="extraMsg"></p>
<div class="button-zone">
<button id="yesBtn">YES</button>
<button id="noBtn">NO</button>
</div>
</div>

<!-- INTRO -->
<div class="container hidden" id="intro">
<p>If you win the game,<br>you can give me any dare.</p>
<button id="okBtn" class="option">OK</button>
</div>

<!-- RULES -->
<div class="container hidden" id="rules">
<p>You need to win at least<br>7 out of 11 questions.</p>
<button class="option" onclick="startGame()">Now start the game</button>
</div>

<!-- GAME -->
<div class="container hidden" id="game">
<h2 id="question"></h2>
<div id="options"></div>
<div class="nav">
<button class="navBtn" id="prevBtn">Previous</button>
<button class="navBtn" id="nextBtn">Okay</button>
</div>
</div>

<!-- RESULT -->
<div class="container hidden" id="result"></div>

<script>
const clickSound=document.getElementById("clickSound");
const bgm=document.getElementById("bgm");
bgm.volume=.15;

const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");
const extraMsg=document.getElementById("extraMsg");
const buttonZone=document.querySelector(".button-zone");

const noMessages=[
"I can wait...",
"Take your time, I’m not going anywhere.",
"I’ll still be right here.",
"Maybe you just need a little more time.",
"I believe you’ll choose differently.",
"I know there’s a Yes hiding somewhere.",
"Don’t worry, I’m patient.",
"I’ll wait as long as it takes.",
"Your Yes will be worth it.",
"I’m still hopeful.",
"I’ll keep choosing you.",
"It feels like you’re close to saying it.",
"I’ll be here when you’re ready.",
"No rush… just don’t forget me.",
"I have faith in your answer.",
"You can say it softly… I’ll hear it.",
"I’m waiting for that one word.",
"I know you want to press it.",
"I’ll stop moving when you say Yes."
];

let noClicks=0;

noBtn.onclick=()=>{
clickSound.play().catch(()=>{});
if(noClicks<noMessages.length){
extraMsg.innerText=noMessages[noClicks++];
}else{
extraMsg.innerText="I’m still waiting for your Yes.";
}

const btnWidth=noBtn.offsetWidth;
const btnHeight=noBtn.offsetHeight;
const zoneRect=buttonZone.getBoundingClientRect();
const yesRect=yesBtn.getBoundingClientRect();

const maxX=buttonZone.clientWidth-btnWidth;
const maxY=buttonZone.clientHeight-btnHeight-20;

let randomX,randomY,safe=false;

while(!safe){
randomX=Math.random()*maxX;
randomY=Math.random()*maxY;

const newLeft=zoneRect.left+randomX;
const newTop=zoneRect.top+randomY;

if(
newLeft+btnWidth<yesRect.left-10||
newLeft>yesRect.right+10||
newTop+btnHeight<yesRect.top-10||
newTop>yesRect.bottom+10
){
safe=true;
}
}

noBtn.style.left=randomX+"px";
noBtn.style.top=randomY+"px";
noBtn.style.bottom="auto";
noBtn.style.transform="none";
};

yesBtn.onclick=()=>{
clickSound.play().catch(()=>{});
bgm.play().catch(()=>{});
start.classList.add("hidden");
intro.classList.remove("hidden");
};

okBtn.onclick=()=>{
clickSound.play().catch(()=>{});
intro.classList.add("hidden");
rules.classList.remove("hidden");
};

/* QUIZ */
let index=0;
let score=0;
let selected=null;
const answered=new Array(11).fill(false);

const questions=[
{q:"How did we meet for the first time?",o:["You shared a post on Instagram","Through a friend","Random chat","Comment section"],a:"You shared a post on Instagram"},
{q:"What nickname did I give you?",o:["Palku","Priya","Pihu","Pratibha"],a:"Palku"},
{q:"When is my birthday?",o:["15 Nov","16 Nov","17 November","18 Nov"],a:"17 November"},
{q:"My favourite colour is?",o:["Black and White","Blue","Red","Grey"],a:"Black and White"},
{q:"My Favourite flower?",o:["Rose","Lotus","Lily","Sunflower"],a:"Rose"},
{q:"What nickname did you give me?",o:["Piku","Prince","Piyu","Prem"],a:"Piku"},
{q:"Did I ever wish bad for you?",o:["No","Yes","Maybe","Sometimes"],a:"No"},
{q:"When we met, how old were you?",o:["15","16","17","18"],a:"17"},
{q:"Did I ever use Snapchat for you?",o:["Yes","No","Not Sure","Maybe"],a:"Yes"},
{q:"What is my dream?",o:["Cinematographer","Photographer","Editor","All of these"],a:"All of these"},
{q:"After you left, did I miss you?",o:["Yes","No","Maybe","Not sure"],a:"Yes"}
];

function shuffle(arr){return arr.sort(()=>Math.random()-0.5)}

function startGame(){
rules.classList.add("hidden");
game.classList.remove("hidden");
loadQ();
}

function loadQ(){
selected=null;
question.innerText=questions[index].q;
options.innerHTML="";
shuffle([...questions[index].o]).forEach(op=>{
const b=document.createElement("button");
b.className="option";
b.innerText=op;
b.onclick=()=>{
selected=op;
document.querySelectorAll(".option").forEach(x=>x.classList.remove("active"));
b.classList.add("active");
};
options.appendChild(b);
});
}

nextBtn.onclick=()=>{
if(!selected)return;

if(!answered[index]){
if(selected===questions[index].a)score++;
answered[index]=true;
}

index++;
index>=questions.length?endGame():loadQ();
};

prevBtn.onclick=()=>{
if(index>0){index--;loadQ();}
};

function endGame(){
game.classList.add("hidden");
result.classList.remove("hidden");

if(score>=7){
winAnimation();
result.innerHTML=
`<h1>YOU WON</h1>
<p>You scored ${score} out of 11.</p>
<p>You won, now give me a dare and I will complete it.</p>
<button class="option" onclick="location.reload()">Restart</button>`;
}else{
loseAnimation();
result.classList.add("shake");
result.innerHTML=
`<h1>YOU LOST</h1>
<p>You scored ${score} out of 11.</p>
<button class="option" onclick="location.reload()">Try Again</button>`;
}
}

function winAnimation(){
const layer=document.getElementById("particles");
for(let i=0;i<30;i++){
const p=document.createElement("div");
p.className="particle";
p.style.left=Math.random()*100+"vw";
p.style.animationDuration=3+Math.random()*2+"s";
layer.appendChild(p);
setTimeout(()=>p.remove(),5000);
}
for(let i=0;i<60;i++){
const s=document.createElement("div");
s.className="spark";
s.style.left="50%";
s.style.top="60%";
s.style.setProperty("--x",(Math.random()*300-150)+"px");
s.style.setProperty("--y",(Math.random()*300-150)+"px");
layer.appendChild(s);
setTimeout(()=>s.remove(),1000);
}
}

function loseAnimation(){
const layer=document.getElementById("particles");
for(let i=0;i<20;i++){
const p=document.createElement("div");
p.className="particle";
p.style.background="linear-gradient(145deg,#444,#111)";
p.style.left=Math.random()*100+"vw";
p.style.animationDuration="4s";
layer.appendChild(p);
setTimeout(()=>p.remove(),5000);
}
}
</script>
</body>
</html>
